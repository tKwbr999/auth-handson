# React認証サンプルアプリ - 実装計画

このドキュメントは、React認証サンプルアプリの認証機能の実装計画を概説しています。計画は、効率的な進捗を促進するために10分間のタスクに分割されています。

## フェーズ1：セットアップとコアコンポーネント（約60分）

*   **タスク1（10分）：** `package.json`を確認し、必要なすべての依存関係がインストールされていることを確認します。認証に関連する不足している依存関係（例：`axios`、`react-router-dom`、`@tanstack/react-query`、`jwt-decode`、`zod`）がないか確認します。
*   **タスク2（10分）：** `readme-md.md`と`architecture-md.md`に記載されているプロジェクト構造を確認します。 `AuthContext`、APIクライアント、UIコンポーネントなどの主要コンポーネントの場所を理解します。
*   **タスク3（10分）：** アプリケーションのエントリポイント、ルーティング、`AuthProvider`などのプロバイダーの統合を理解するために、`src/index.tsx`と`src/App.tsx`を調べます。
*   **タスク4（10分）：** ログイン、ログアウト、トークン処理など、認証状態がどのように管理されているかを理解するために、`src/contexts/AuthContext.tsx`を読みます。
*   **タスク5（10分）：** APIリクエストがどのように行われ、認証関連のエンドポイントがどのように処理されるかを理解するために、`src/api/apiClient.ts`と`src/api/authApi.ts`を確認します。
*   **タスク6（10分）：** トークンがどのように保存および取得されるかを理解するために、`src/lib/auth/tokenStorage.ts`を調べます。

## フェーズ2：実装手順（約120分）

*   **タスク7（10分）：** ログイン機能を実装します。これには、ログインフォームの作成、ユーザー入力の処理、`AuthContext`からの`login`関数の呼び出し、および応答（成功/失敗）の処理が含まれます。
*   **タスク8（10分）：** ログアウト機能を実装します。これには、`AuthContext`からの`logout`関数の呼び出しと、ユーザーをログインページにリダイレクトすることが含まれます。
*   **タスク9（10分）：** 登録機能を実装します。これには、登録フォームの作成、ユーザー入力の処理、`AuthContext`からの`register`関数の呼び出し、および応答の処理が含まれます。
*   **タスク10（10分）：** `ProtectedRoute`コンポーネントを使用して、保護されたルートを実装します。未承認のユーザーがログインページにリダイレクトされることを確認します。
*   **タスク11（10分）：** `tokenStorage.ts`を使用して、トークンの保存と取得を実装します。
*   **タスク12（10分）：** `apiClient.ts`と`authApi.ts`を使用して、トークン更新メカニズムを実装します。
*   **タスク13（10分）：** パスワードリセット要求機能を実装します。
*   **タスク14（10分）：** パスワードリセット確認機能を実装します。
*   **タスク15（10分）：** ユーザープロファイルの取得と表示を実装します。
*   **タスク16（10分）：** ユーザープロファイル更新機能を実装します。
*   **タスク17（10分）：** ソーシャルログイン（Google/GitHub）機能を実装します。
*   **タスク18（10分）：** エラー処理を追加し、適切なエラーメッセージをユーザーに表示します。

## フェーズ3：テストと洗練（約60分）

*   **タスク19（10分）：** `AuthContext`やAPIクライアント関数などのコアコンポーネントの単体テストを作成します。
*   **タスク20（10分）：** さまざまなコンポーネント間の相互作用を検証するための統合テストを作成します。
*   **タスク21（10分）：** ユーザーフロー（ログイン、ログアウト、登録、保護されたルート）をシミュレートするE2Eテストを作成します。
*   **タスク22（10分）：** コードの可読性と保守性を向上させるために、コードを確認し、リファクタリングします。
*   **タスク23（10分）：** コード分割、メモ化、およびキャッシュを実装することにより、アプリケーションのパフォーマンスを最適化します。
*   **タスク24（10分）：** 実装計画を確認し、必要に応じてタスクを調整します。
